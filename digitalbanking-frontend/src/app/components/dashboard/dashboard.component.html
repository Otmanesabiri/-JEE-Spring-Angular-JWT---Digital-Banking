<div class="dashboard-container">
  <div class="container-fluid">
    <!-- Page Header -->
    <div class="page-header text-center mb-5">
      <h1 class="display-4 text-gradient mb-3">
        <i class="bi bi-speedometer2 me-3"></i>Dashboard
      </h1>
      <p class="lead text-coffee">Welcome to your Digital Banking Control Center</p>
    </div>

    <!-- Statistics Cards -->
    <div class="row mb-5">
      <div class="col-md-3 mb-4">
        <div class="stats-card fade-in-up">
          <div class="icon">
            <i class="bi bi-people"></i>
          </div>
          <div class="value">{{ totalCustomers }}</div>
          <div class="label">Total Customers</div>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="stats-card fade-in-up stats-card-delay-1">
          <div class="icon">
            <i class="bi bi-credit-card"></i>
          </div>
          <div class="value">{{ totalAccounts }}</div>
          <div class="label">Bank Accounts</div>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="stats-card fade-in-up stats-card-delay-2">
          <div class="icon">
            <i class="bi bi-currency-dollar"></i>
          </div>
          <div class="value">{{ totalBalance | currency:'USD':'symbol':'1.0-0' }}</div>
          <div class="label">Total Balance</div>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="stats-card fade-in-up stats-card-delay-3">
          <div class="icon">
            <i class="bi bi-arrow-left-right"></i>
          </div>
          <div class="value">{{ totalOperations }}</div>
          <div class="label">Operations</div>
        </div>
      </div>
    </div>

    <!-- Charts Section -->
    <div class="row">
      <div class="col-lg-6 mb-4">
        <div class="card shadow-brown rounded-modern">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="bi bi-pie-chart me-2"></i>Account Types Distribution
            </h5>
          </div>
          <div class="card-body">
            <div class="chart-container chart-placeholder">
              <!-- Temporarily disable charts until Chart.js is properly configured -->
              <div class="text-center py-5">
                <i class="bi bi-pie-chart display-4 text-muted"></i>
                <h6 class="mt-3 text-muted">Chart visualization coming soon</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6 mb-4">
        <div class="card shadow-brown rounded-modern">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="bi bi-bar-chart me-2"></i>Account Status Overview
            </h5>
          </div>
          <div class="card-body">
            <div class="chart-container chart-placeholder">
              <!-- Temporarily disable charts until Chart.js is properly configured -->
              <div class="text-center py-5">
                <i class="bi bi-bar-chart display-4 text-muted"></i>
                <h6 class="mt-3 text-muted">Chart visualization coming soon</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activities -->
    <div class="row">
      <div class="col-12">
        <div class="card shadow-brown rounded-modern">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="bi bi-clock-history me-2"></i>Recent Activities
            </h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th><i class="bi bi-calendar me-1"></i>Date</th>
                    <th><i class="bi bi-person me-1"></i>Customer</th>
                    <th><i class="bi bi-credit-card me-1"></i>Account</th>
                    <th><i class="bi bi-arrow-left-right me-1"></i>Type</th>
                    <th><i class="bi bi-currency-dollar me-1"></i>Amount</th>
                    <th><i class="bi bi-chat-square-text me-1"></i>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let activity of recentActivities" class="table-row">
                    <td class="fw-semibold">{{ activity.operationDate | date:'short' }}</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <i class="bi bi-person-circle me-2 text-primary-brown"></i>
                        {{ activity.customerName }}
                      </div>
                    </td>
                    <td>
                      <span class="badge bg-light text-dark">{{ activity.accountId }}</span>
                    </td>
                    <td>
                      <span class="badge" [class]="getOperationTypeClass(activity.type)">
                        {{ activity.type }}
                      </span>
                    </td>
                    <td class="fw-bold text-end">
                      <span [class]="activity.type === 'CREDIT' ? 'text-success' : 'text-danger'">
                        {{ activity.type === 'CREDIT' ? '+' : '-' }}{{ activity.amount | currency:'USD':'symbol':'1.2-2' }}
                      </span>
                    </td>
                    <td>{{ activity.description }}</td>
                  </tr>
                  <tr *ngIf="recentActivities.length === 0">
                    <td colspan="6" class="text-center py-5">
                      <div class="empty-state">
                        <i class="bi bi-inbox display-4 text-muted"></i>
                        <h5 class="mt-3 text-muted">No recent activities</h5>
                        <p class="text-muted">Activities will appear here as they occur</p>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
